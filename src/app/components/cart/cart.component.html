<div class="cart-page">
  <div class="cart-container">
    <div class="cart-header">
      <h1>Your Cart</h1>
      <button class="back-button" (click)="goBack()">
        <i class="fa-solid fa-arrow-left"></i>
        Back to Menu
      </button>
    </div>

    <div class="cart-content" *ngIf="cartItems.length > 0; else emptyCart">
      <div class="cart-items">
        <div class="cart-item" *ngFor="let item of cartItems">
          <div class="item-image">
            <img [src]="item.image" [alt]="item.name">
          </div>
          <div class="item-details">
            <h3>{{ item.name }}</h3>
            <p class="description">{{ item.description }}</p>
            <div class="item-price">₹{{ item.price }}</div>
          </div>
          <div class="item-actions">
            <div class="quantity-controls">
              <button [disabled]="(item.quantity || 1) <= 1" (click)="updateQuantity(item, -1)">
                <i class="fa-solid fa-minus"></i>
              </button>
              <span>{{ item.quantity || 1 }}</span>
              <button (click)="updateQuantity(item, 1)">
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
            <button class="remove-button" (click)="removeFromCart(item.id)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="cart-summary">
        <h2>Order Summary</h2>
        <div class="summary-row">
          <span>Subtotal</span>
          <span>₹{{ getSubtotal() }}</span>
        </div>
        <div class="summary-row">
          <span>Delivery Fee</span>
          <span>₹40</span>
        </div>
        <div class="summary-row total">
          <span>Total</span>
          <span>₹{{ getTotal() }}</span>
        </div>
        <button class="checkout-button">
          <i class="fa-solid fa-credit-card"></i>
          Proceed to Checkout
        </button>
      </div>
    </div>

    <ng-template #emptyCart>
      <div class="empty-cart">
        <i class="fa-solid fa-cart-shopping"></i>
        <h2>Your cart is empty</h2>
        <p>Add some delicious items from the menu</p>
        <button class="browse-button" (click)="goBack()">
          <i class="fa-solid fa-utensils"></i>
          Browse Menu
        </button>
      </div>
    </ng-template>
  </div>
</div>
